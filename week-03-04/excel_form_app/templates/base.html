{% load static %} {# Load Django static template tag for referencing static files #}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> {# Character encoding #}

    <meta name="viewport" content="width=device-width, initial-scale=1.0"> {# Responsive design #}

    <title>{% block title %}My App{% endblock %}</title> {# Page title block #}

    <style>
        /* Body styling */
        body {
            margin: 0;
            font-family: "Segoe UI", Tahoma, sans-serif;
            background: #ffffff;
        }

        /* Wrapper for the whole page content */
        .page-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            flex-direction: column;
            text-align: center;
            padding: 20px;

            /* Background image with semi-transparent overlay */
            background-image: linear-gradient(
                rgba(255,255,255,0.75),
                rgba(255,255,255,0.75)
            ), url("{% static 'images/books_background.jpg' %}");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Navigation bar styling */
        nav {
            display: flex;
            flex-direction: column; /* Two rows of links/buttons */
            align-items: center;
            gap: 12px; /* Vertical spacing between rows */
            padding: 18px 28px;
        }

        .nav-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px; /* Horizontal spacing between items in a row */
        }

        /* Navigation links styling */
        nav a {
            text-decoration: none;
            color: #1f2937;
            font-weight: 700;
            font-size: 1.15rem;
            padding: 8px 14px;
            border: 2px solid #d6c9b8;
            border-radius: 8px;
            background-color: #f5f0e6;
            transition: transform 0.2s ease, color 0.2s ease, background 0.2s ease;
        }

        nav a:hover {
            transform: translateY(-2px);
            background-color: #e0d4bf;
            color: #4f46e5;
        }

        /* Logout button styling */
        nav form button {
            background: #f5f0e6;
            color: #c0392b;
            border: 2px solid #d6c9b8;
            padding: 10px 18px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.15rem;
            border-radius: 8px;
            transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
        }

        nav form button:hover {
            transform: translateY(-2px);
            background: #e0d4bf;
            box-shadow: 0 4px 12px rgba(231, 76, 60, 0.5);
            color: #c0392b;
        }

        /* Gradient horizontal line */
        hr {
            width: 65%;
            margin: 30px auto;
            border: none;
            height: 3px;
            border-radius: 2px;
            background: linear-gradient(to right, #4f46e5, #22c55e);
        }

        /* Content box styling */
        .content-box {
            padding: 35px;
            max-width: 900px;
            width: 100%;
            font-size: 1.15rem;
            font-weight: 500;
            color: #1f2937;
            animation: fadeIn 0.6s ease-in-out;
        }

        /* Fade in animation for content box */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 600px) {
            nav { padding: 14px; }
            nav a, nav form button { font-size: 1rem; padding: 6px 10px; }
            .content-box { padding: 22px; font-size: 1rem; }
        }
    </style>
</head>

<body>

<div class="page-wrapper"> {# Main page container #}

    <nav> {# Navigation bar #}
        <!-- First row of navigation -->
        <div class="nav-row">
            <a href="/">ğŸ  Î‘ÏÏ‡Î¹ÎºÎ®</a> {# Home link #}
            <a href="/upload/">ğŸ“Š Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î±ÏÏ‡ÎµÎ¯Î¿Ï… Excel</a> {# Upload Excel file #}
            <a href="/add-person/">ğŸ“š ÎÎ­Î± ÎµÎ³Î³ÏÎ±Ï†Î® Î²Î¹Î²Î»Î¯Î¿Ï…</a> {# Add new book #}
        </div>

        <!-- Second row of navigation -->
        <div class="nav-row">
            <a href="/people/">ğŸ“– ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚</a> {# View all records #}

            {% if user.is_authenticated %} {# If logged in #}
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit">ğŸšª Î‘Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·</button> {# Logout button #}
                </form>
            {% else %} {# If not logged in #}
                <a href="{% url 'login' %}">ğŸ” Î£ÏÎ½Î´ÎµÏƒÎ·</a> {# Login link #}
                <a href="{% url 'signup' %}">ğŸ“ Î•Î³Î³ÏÎ±Ï†Î®</a> {# Signup link #}
            {% endif %}
        </div>
    </nav>

    <hr> {# Decorative gradient separator #}

    <div class="content-box"> {# Main content container #}
        {% block content %} {# Placeholder for page-specific content #}
        {% endblock %}
    </div>

</div>

</body>
</html>
